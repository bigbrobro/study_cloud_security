libevent是用c实现异步事件框架

# 一、职责分析

IO的职责

1、io检测

检测全连接队列是否有值

2、io操作

进行io操作时，每次先去探测数据是否准备好，准备好了才会进行io操作。



网络编程的职责

连接的建立和连接的断开，构成了连接的生命周期（对应对象的生命周期）。

1、连接建立

从客户端角度，使用connect建立连接

从服务端角度，使用accept接收连接



2、连接断开

主动断开，服务器read = 0

被动断开



3、数据到达

数据缓冲

为什么需要缓冲数据？

按字节数来接收数据

按照特殊字符分隔数据



4、数据发送

网络职责不是把数据发送到对端，而是把数据写入到写缓冲区。

数据缓冲

# 二、设计原则分析

依赖倒置

迪米特原则



# 三、libevent的封装流程

事件检测

事件操作

事件对象





# 四、libevent封装对象

eventbase

evconnlistener

bufferevent是对什么的封装呢？